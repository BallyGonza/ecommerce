(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{105:function(e,t,c){"use strict";c.r(t);var a=c(4),n=c(43),r=c.n(n),i=(c(94),c(111)),s=c(33),o=c(23),l=c(13),j=c(118),d=c(83),b=c(6);function m(e){return Object(b.jsxs)(j.a,{className:"mb-3",style:{width:300},children:[Object(b.jsx)(j.a.Img,{src:e.imgURL}),Object(b.jsxs)(j.a.Body,{children:[Object(b.jsx)(j.a.Title,{children:e.title}),Object(b.jsxs)(j.a.Subtitle,{className:"fst-italic",children:["$",e.price]}),Object(b.jsx)(d.a,{className:"mt-1 btn btn-sm",variant:"dark",onClick:e.handlerOnClick,id:e.id,children:"Comprar"})]})]})}var u=c(79),O=(c(97),c(98),c(82),u.a.initializeApp({apiKey:"AIzaSyBLDHbEp8-b-6PtluEpQztXwaDhmL9jTWY",authDomain:"ecommerce-5722a.firebaseapp.com",projectId:"ecommerce-5722a",storageBucket:"ecommerce-5722a.appspot.com",messagingSenderId:"771915479552",appId:"1:771915479552:web:a4f4b6497f1e1165eb36e5",measurementId:"G-2NGYVPBRXM"}));function x(){return u.a.firestore(O)}var h=c(112);function f(){return Object(b.jsx)("div",{class:"d-flex justify-content-center m-5",children:Object(b.jsx)("div",{class:"spinner-border",role:"status",children:Object(b.jsx)("span",{class:"sr-only",children:"Loading..."})})})}function p(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),j=s[0],d=s[1],u=Object(o.f)(),O=function(e){u("/Catalogue/".concat(e.target.id))};return Object(a.useEffect)((function(){n(!0),x().collection("productos").get().then((function(e){0===e.size?console.log("No results!"):d(e.docs.map((function(e){return e.data()})).sort((function(e,t){return e.id-t.id})))})).catch((function(e){console.log("Error Searching Items",e)})).finally((function(){n(!1)}))}),[]),c?Object(b.jsx)(i.a,{children:Object(b.jsx)(f,{})}):Object(b.jsx)(h.a,{className:"d-flex justify-content-around",children:j.map((function(e){return Object(b.jsx)(m,{id:e.id,imgURL:e.imgURL,title:e.name,description:e.description,price:e.price,handlerOnClick:O},e.id)}))})}function g(){return Object(b.jsx)(i.a,{children:Object(b.jsx)(p,{})})}function C(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(g,{})})}function v(){return Object(b.jsx)("div",{style:{marginLeft:"10em",marginTop:"1em",marginBottom:"1em"},children:Object(b.jsx)("img",{src:"https://cache.tradeinn.com/images/brand-page/banner_5340.jpg"})})}var N=c(84),y=c(8),k=Object(a.createContext)([]);var I=function(e){var t=e.children,c=Object(a.useState)(1),n=Object(l.a)(c,2),r=n[0],i=n[1],s=Object(a.useState)(0),o=Object(l.a)(s,2),j=o[0],d=o[1],m=Object(a.useState)([]),u=Object(l.a)(m,2),O=u[0],x=u[1],h=Object(a.useState)({}),f=Object(l.a)(h,2),p=f[0],g=(f[1],Object(a.useState)(0)),C=Object(l.a)(g,2),v=C[0],N=C[1];return Object(b.jsx)(k.Provider,{value:{cartList:O,agregarProducto:function(e){x(O.concat(Object(y.a)(Object(y.a)({},e),{},{cant:r}))),N(v+e.price*r),d(j+r)},vaciarCarrito:function(){x([]),d(0)},addProduct:function(){i(r+1)},removeProduct:function(){r>1?i(r-1):console.log("No se puede bajar de 1")},item:p,total:v,setCartList:x,setTotal:N,totalItemsCarrito:j,setTotalItemsCarrito:d,count:r,setCount:i,restarProdOrden:function(e){O.find((function(t){return t.id==e})).cant-=1},sumarProd:function(e){O.find((function(t){return t.id==e})).cant+=1}},children:t})};function L(e){var t=Object(a.useContext)(k).totalItemsCarrito;return Object(b.jsxs)("div",{children:[Object(b.jsx)(N.a,{icon:e.icon,className:""}),t||null]})}var S=c(87),T=c(115),E=c(117),P=c(114);function B(){var e=Object(o.f)(),t=function(t){e("/Categoria/".concat(t.target.id))};return Object(b.jsx)(T.a,{bg:"light",expand:"lg",variant:"light",className:"mb-3",children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(s.b,{to:"/Home",children:Object(b.jsxs)(T.a.Brand,{children:[Object(b.jsx)("img",{alt:"",src:"https://logodownload.org/wp-content/uploads/2019/08/funko-logo-1.png",width:"120",height:"40",className:"d-inline-block align-top"})," "]})}),Object(b.jsxs)(E.a,{className:"me-auto",children:[Object(b.jsx)(E.a.Link,{children:Object(b.jsx)(s.b,{to:"/Home",style:{textDecoration:"none",color:"black"},children:"Home"})}),Object(b.jsx)(E.a.Link,{children:Object(b.jsx)(s.b,{to:"/Catalogue",style:{textDecoration:"none",color:"black"},children:"Catalogue"})}),Object(b.jsxs)(P.a,{children:[Object(b.jsx)(P.a.Toggle,{variant:"white",children:"Categorias"}),Object(b.jsxs)(P.a.Menu,{children:[Object(b.jsx)(P.a.Item,{id:"Marvel",onClick:t,children:"Marvel"}),Object(b.jsx)(P.a.Item,{id:"Disney",onClick:t,children:"Disney"}),Object(b.jsx)(P.a.Item,{id:"CartoonNetwork",onClick:t,children:"Cartoon Network"}),Object(b.jsx)(P.a.Item,{id:"Playstation",onClick:t,children:"PlayStation"})]})]}),Object(b.jsx)(E.a.Link,{children:Object(b.jsx)(s.b,{to:"/Help",style:{textDecoration:"none",color:"black"},children:"Help"})})]}),Object(b.jsx)(s.b,{to:"/Cart",children:Object(b.jsx)(L,{className:"d-flex",icon:S.a})})]})})}var w=c(113);function R(e){var t=Object(a.useContext)(k),c=t.cartList,n=t.agregarProducto,r=t.addProduct,s=t.removeProduct,l=t.count,m=t.setCount;Object(a.useEffect)((function(){return function(){m(1)}}),[]);var u=Object(o.f)();return Object(b.jsx)(i.a,{children:Object(b.jsxs)(w.a,{children:[Object(b.jsx)(j.a,{className:"mb-3 mt-3",children:Object(b.jsx)(j.a.Img,{src:e.imgURL,style:{width:300},className:"mx-auto d-block"})}),Object(b.jsx)(j.a,{className:"mb-3 mt-3",children:Object(b.jsxs)(j.a.Body,{className:"align-middle",children:[Object(b.jsx)(j.a.Title,{children:e.title}),Object(b.jsx)(j.a.Text,{className:"fst-italic",children:e.description}),Object(b.jsxs)(j.a.Subtitle,{className:"mb-3 fst-italic",children:["$",e.price]}),c.find((function(t){return t.id==e.id}))?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a.Text,{className:"fw-bold",style:{color:"green"},children:"Ya tenes este producto en tu carrito."}),Object(b.jsx)(d.a,{className:"mt-2 btn btn-sm",style:{marginRight:10},variant:"primary",onClick:function(){return u("/Catalogue")},children:"Volver a Catalogo"}),Object(b.jsx)(d.a,{className:"mt-2 btn btn-sm",variant:"success",onClick:function(){return u("/Cart")},children:"Ir al Carrito"})]}):Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsxs)(j.a.Text,{className:"pt-3 fw-bold",children:["Cantidad: ",l]}),"  ",Object(b.jsx)(d.a,{variant:"outline-secondary",className:"m-1",onClick:function(){return s()},children:"-"}),Object(b.jsx)(d.a,{variant:"outline-secondary",className:"m-1",onClick:function(){return r()},children:"+"}),Object(b.jsx)(d.a,{className:" p-2 m-2 btn btn-sm",id:e.id,variant:"success",onClick:function(){n(e)},children:"Agregar al Carrito"})]})]})})]})})}function D(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),j=s[0],d=s[1],m=Object(o.g)().id;return Object(a.useEffect)((function(){n(!0),x().collection("productos").get().then((function(e){0===e.size&&console.log("No results!"),d(e.docs.map((function(e){return e.data()})).sort((function(e,t){return e.id-t.id})))})).catch((function(e){console.log("Error Searching Items",e)})).finally((function(){n(!1)}))}),[]),c?Object(b.jsx)(i.a,{children:Object(b.jsx)(f,{})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(R,{id:j[m].id,imgURL:j[m].imgURL,title:j[m].name,description:j[m].description,price:j[m].price},j[m].id)})}var H=c(116),U=c(88);function F(e){var t=e.prod,c=Object(a.useContext)(k),n=c.cartList,r=(c.vaciarCarrito,c.item,c.total),i=c.setCartList,s=c.setTotal,o=c.setTotalItemsCarrito,m=c.totalItemsCarrito,u=(c.addProduct,c.removeProduct,c.restarProdOrden),O=c.sumarProd,x=Object(a.useState)(0),h=Object(l.a)(x,2),f=h[0],p=h[1];Object(a.useEffect)((function(){p(t.cant)}),[]);return Object(b.jsxs)(w.a,{children:[Object(b.jsx)(j.a,{className:"mb-3 mt-3",children:Object(b.jsx)(j.a.Img,{src:t.imgURL,style:{width:300},className:"mx-auto d-block"})}),Object(b.jsx)(j.a,{className:"mb-3 mt-3",children:Object(b.jsxs)(j.a.Body,{className:"align-middle",children:[Object(b.jsx)(j.a.Title,{children:t.title}),Object(b.jsx)(j.a.Text,{className:"fst-italic",children:t.description}),Object(b.jsxs)(j.a.Subtitle,{className:"fw-bold",children:["$",t.price,"  x",f," = $",(t.price*f).toFixed(2)]}),Object(b.jsx)("br",{}),Object(b.jsx)(d.a,{variant:"outline-secondary",className:"m-1",onClick:function(){f>1&&(p(f-1),u(t.id),s(r-t.price))},children:"-"}),Object(b.jsx)(d.a,{variant:"outline-secondary",className:"m-1",onClick:function(){return p(f+1),O(t.id),void s(r+t.price)},children:"+"}),Object(b.jsx)("br",{}),Object(b.jsx)(d.a,{className:"mt-3 btn btn-danger btn-sm",id:t.id,onClick:function(){return function(e,t){var c=t.indexOf(t.find((function(t){return t.id==e.id})));i(t.slice(0,c).concat(t.slice(c+1))),s(r-e.price*e.cant),o(m-e.cant)}(t,n)},children:"Quitar del carrito."})]})})]})}function G(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),c=(t[0],t[1],Object(a.useState)("")),n=Object(l.a)(c,2),r=n[0],i=n[1],s=Object(a.useState)(["Los mails no coinciden"]),m=Object(l.a)(s,2),u=m[0],O=m[1],h=Object(a.useContext)(k),f=h.cartList,p=h.vaciarCarrito,g=(h.item,h.total);h.setTotal,h.setCartList,h.setTotalItemsCarrito,h.totalItemsCarrito,h.addProduct,h.removeProduct,h.sumarProd,h.restarProd;var C=Object(o.f)(),v=function(){document.getElementById("mail").value==document.getElementById("mailValidator").value&&O(u.pop())};return f.length>0?Object(b.jsxs)(b.Fragment,{children:[f.map((function(e){return Object(b.jsx)(F,{prod:e})})),Object(b.jsxs)(w.a,{children:[Object(b.jsx)(j.a,{children:Object(b.jsx)(j.a.Title,{className:"p-2 m-2",children:"Total:"})}),Object(b.jsx)(j.a,{children:Object(b.jsxs)(j.a.Title,{className:"d-flex justify-content-end p-2 m-2",children:["$",g.toFixed(2)]})})]}),Object(b.jsx)(d.a,{className:"mt-3 mb-5 btn-danger",onClick:function(){return p()},children:"Vaciar Carrito"}),Object(b.jsxs)(H.a,{children:[Object(b.jsxs)(H.a.Group,{className:"mb-3",children:[Object(b.jsx)(H.a.Label,{children:"Nombre:"}),Object(b.jsx)(H.a.Control,{type:"text",placeholder:"Gonzalo",id:"name"})]}),Object(b.jsxs)(H.a.Group,{className:"mb-3",children:[Object(b.jsx)(H.a.Label,{children:"Apellido:"}),Object(b.jsx)(H.a.Control,{type:"text",placeholder:"Bally",id:"lastname"})]}),Object(b.jsxs)(H.a.Group,{className:"mb-3",children:[Object(b.jsx)(H.a.Label,{children:"Telefono:"}),Object(b.jsx)(H.a.Control,{type:"number",placeholder:"1160574258",id:"phone"})]}),Object(b.jsxs)(H.a.Group,{className:"mb-3",children:[Object(b.jsx)(H.a.Label,{children:"Email:"}),Object(b.jsx)(H.a.Control,{type:"text",placeholder:"example@mail.com",id:"mail"})]}),Object(b.jsxs)(H.a.Group,{className:"mb-3",children:[Object(b.jsx)(H.a.Label,{children:"Repita su Email:"}),Object(b.jsx)(H.a.Control,{type:"text",placeholder:"example@mail.com",id:"mailValidator"})]}),Object(b.jsx)("h3",{id:"errores"}),Object(b.jsxs)("h3",{id:"idOrden",children:[" ",r," "]}),Object(b.jsx)(d.a,{className:"mt-3 mb-5 btn-primary",onClick:function(e){if(document.getElementById("errores").innerHTML="",v(),0!==u.length){document.getElementById("errores").innerHTML+=u}else{var t={};t.date=U.a.firestore.Timestamp.fromDate(new Date),t.buyer={nombre:document.getElementById("name").value,lastname:document.getElementById("lastname").value,mail:document.getElementById("mail").value,phone:document.getElementById("phone").value},t.total=g,t.items=f.map((function(e){return{id:e.id,nombre:e.title,precio:e.price}})),x().collection("orders").add(t).then((function(e){return i("Su id de compra es: "+e.id)}))}},children:"Enviar Orden"})]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{className:"p-3 mt-3",children:Object(b.jsx)(j.a.Title,{className:"mt-2 d-flex justify-content-md-center",children:"Su carrito de compras esta vacio."})}),Object(b.jsx)(d.a,{className:"mt-2 btn btn-sm",variant:"success",onClick:function(){return C("/Catalogue")},children:"Volver a Catalogo"})]})}function z(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(l.a)(r,2),j=s[0],d=s[1],u=Object(o.f)(),O=Object(o.g)().categoria,p=function(e){u("/Catalogue/".concat(e.target.id))};return Object(a.useEffect)((function(){n(!0),x().collection("productos").get().then((function(e){0===e.size?console.log("No results!"):d(e.docs.map((function(e){return e.data()})).sort((function(e,t){return e.id-t.id})))})).catch((function(e){console.log("Error Searching Items",e)})).finally((function(){n(!1)}))}),[]),c?Object(b.jsx)(i.a,{children:Object(b.jsx)(f,{})}):Object(b.jsx)(h.a,{className:"d-flex justify-content-around",children:j.filter((function(e){return e.categoria==O})).map((function(e){return Object(b.jsx)(m,{id:e.id,imgURL:e.imgURL,title:e.name,description:e.description,price:e.price,handlerOnClick:p},e.id)}))})}function M(){return Object(b.jsx)(I,{children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(B,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/Home",element:Object(b.jsx)(v,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/Catalogue",element:Object(b.jsx)(C,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/Categoria/:categoria",element:Object(b.jsx)(z,{})}),Object(b.jsx)(o.a,{path:"/Catalogue/:id",element:Object(b.jsx)(D,{})}),Object(b.jsx)(o.a,{path:"/Cart",element:Object(b.jsx)(G,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/",element:Object(b.jsx)(v,{})})]})]})})}function V(){return Object(b.jsx)(i.a,{children:Object(b.jsx)(M,{})})}r.a.render(Object(b.jsx)(V,{}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.1c84ec2a.chunk.js.map